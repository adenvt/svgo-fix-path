import {
  it,
  expect,
  describe,
} from 'vitest'
import { fixPath } from './fix-path'

const cases: Array<{
  input: string,
  output: string,
}> = [
  {
    input : 'M20.1 120.8Q27.7 120.8 33.2 118.5Q38.7 116.1 41.7 112.3Q44.7 108.5 44.7 104L44.7 104Q44.7 97.9 40.5 95.2Q36.2 92.4 27.7 92.4L18.3 92.4L18.3 92.4Q13.4 92.4 11.6 90.9Q9.7 89.4 9.7 87.1L9.7 87.1Q9.7 85.1 10.6 83.8Q11.5 82.4 12.8 81.3L12.8 81.3Q16.2 83 20.1 83L20.1 83Q25.1 83 29.1 81Q33.1 78.9 35.5 75.1Q37.9 71.3 37.9 66.1L37.9 66.1Q37.9 63 36.8 60.4Q35.6 57.7 33.9 56.1L43.9 56.1L43.9 49.8L27 49.8L27 49.8Q25.7 49.3 23.9 49Q22.1 48.6 20.1 48.6L20.1 48.6Q15.2 48.6 11 50.7Q6.8 52.8 4.3 56.7Q1.8 60.6 1.8 65.9L1.8 65.9Q1.8 70.2 3.8 73.6Q5.7 77 8.1 79L8.1 79.4L8.1 79.4Q6.2 80.7 4.5 83Q2.8 85.3 2.8 88.4L2.8 88.4Q2.8 91.2 4.1 93.2Q5.3 95.2 7.1 96.3L7.1 96.7L7.1 96.7Q3.8 98.9 1.9 101.8Q0 104.6 0 107.7L0 107.7Q0 114 5.6 117.4Q11.2 120.8 20.1 120.8L20.1 120.8zM21.3 115.1L21.3 115.1Q28.3 115.1 32.5 112.1Q36.7 109 36.7 105.2L36.7 105.2Q36.7 101.8 34.2 100.5Q31.6 99.2 26.9 99.2L26.9 99.2L18.5 99.2Q17.1 99.2 15.5 99Q13.8 98.8 12.2 98.4L12.2 98.4Q9.6 100.3 8.4 102.4Q7.2 104.5 7.2 106.6L7.2 106.6Q7.2 110.5 11 112.8Q14.7 115.1 21.3 115.1zM20.1 77.5L20.1 77.5Q24.3 77.5 27.4 74.4Q30.4 71.2 30.4 65.9L30.4 65.9Q30.4 60.6 27.4 57.6Q24.4 54.6 20.1 54.6L20.1 54.6Q15.8 54.6 12.8 57.6Q9.8 60.6 9.8 65.9L9.8 65.9Q9.8 71.2 12.9 74.4Q15.9 77.5 20.1 77.5zM73.8 99.6Q78.8 99.6 82.8 98.1Q86.7 96.6 89.8 94.6L86.9 89.2L86.9 89.2Q84.2 90.9 81.3 92Q78.3 93 74.8 93L74.8 93Q67.8 93 63.5 88.4Q59.1 83.8 58.6 76.1L91.4 76.1L91.4 76.1Q91.6 75.2 91.7 74Q91.7 72.7 91.7 71.4L91.7 71.4Q91.7 61 86.7 54.8Q81.6 48.6 72.3 48.6L72.3 48.6Q66.8 48.6 61.8 51.7Q56.8 54.8 53.7 60.5Q50.5 66.2 50.5 74.2L50.5 74.2Q50.5 82.1 53.6 87.8Q56.7 93.5 62 96.6Q67.3 99.6 73.8 99.6L73.8 99.6zM58.5 70.2L58.5 70.2L84.5 70.2Q84.5 62.8 81.4 59Q78.2 55.1 72.5 55.1L72.5 55.1Q67.4 55.1 63.4 59.1Q59.3 63 58.5 70.2ZM122.6 99.6Q128.6 99.6 133.7 96.6Q138.8 93.6 141.9 87.9Q145.1 82.2 145.1 74.2L145.1 74.2Q145.1 66 141.9 60.3Q138.8 54.6 133.7 51.6Q128.6 48.6 122.6 48.6L122.6 48.6Q116.7 48.6 111.5 51.6Q106.4 54.6 103.3 60.3Q100.1 66 100.1 74.2L100.1 74.2Q100.1 82.2 103.3 87.9Q106.4 93.6 111.5 96.6Q116.7 99.6 122.6 99.6L122.6 99.6zM122.6 92.8L122.6 92.8Q128.9 92.8 132.8 87.7Q136.6 82.5 136.6 74.2L136.6 74.2Q136.6 65.8 132.8 60.6Q128.9 55.4 122.6 55.4L122.6 55.4Q116.4 55.4 112.5 60.6Q108.6 65.8 108.6 74.2L108.6 74.2Q108.6 82.5 112.5 87.7Q116.4 92.8 122.6 92.8Z',
    output: 'M20.1 120.8L20.1 120.8Q11.2 120.8 5.6 117.4Q0 114 0 107.7L0 107.7Q0 104.6 1.9 101.8Q3.8 98.9 7.1 96.7L7.1 96.7L7.1 96.3Q5.3 95.2 4.1 93.2Q2.8 91.2 2.8 88.4L2.8 88.4Q2.8 85.3 4.5 83Q6.2 80.7 8.1 79.4L8.1 79.4L8.1 79Q5.7 77 3.8 73.6Q1.8 70.2 1.8 65.9L1.8 65.9Q1.8 60.6 4.3 56.7Q6.8 52.8 11 50.7Q15.2 48.6 20.1 48.6L20.1 48.6Q22.1 48.6 23.9 49Q25.7 49.3 27 49.8L27 49.8L43.9 49.8L43.9 56.1L33.9 56.1Q35.6 57.7 36.8 60.4Q37.9 63 37.9 66.1L37.9 66.1Q37.9 71.3 35.5 75.1Q33.1 78.9 29.1 81Q25.1 83 20.1 83L20.1 83Q16.2 83 12.8 81.3L12.8 81.3Q11.5 82.4 10.6 83.8Q9.7 85.1 9.7 87.1L9.7 87.1Q9.7 89.4 11.6 90.9Q13.4 92.4 18.3 92.4L18.3 92.4L27.7 92.4Q36.2 92.4 40.5 95.2Q44.7 97.9 44.7 104L44.7 104Q44.7 108.5 41.7 112.3Q38.7 116.1 33.2 118.5Q27.7 120.8 20.1 120.8ZM73.8 99.6L73.8 99.6Q67.3 99.6 62 96.6Q56.7 93.5 53.6 87.8Q50.5 82.1 50.5 74.2L50.5 74.2Q50.5 66.2 53.7 60.5Q56.8 54.8 61.8 51.7Q66.8 48.6 72.3 48.6L72.3 48.6Q81.6 48.6 86.7 54.8Q91.7 61 91.7 71.4L91.7 71.4Q91.7 72.7 91.7 74Q91.6 75.2 91.4 76.1L91.4 76.1L58.6 76.1Q59.1 83.8 63.5 88.4Q67.8 93 74.8 93L74.8 93Q78.3 93 81.3 92Q84.2 90.9 86.9 89.2L86.9 89.2L89.8 94.6Q86.7 96.6 82.8 98.1Q78.8 99.6 73.8 99.6ZM122.6 99.6L122.6 99.6Q116.7 99.6 111.5 96.6Q106.4 93.6 103.3 87.9Q100.1 82.2 100.1 74.2L100.1 74.2Q100.1 66 103.3 60.3Q106.4 54.6 111.5 51.6Q116.7 48.6 122.6 48.6L122.6 48.6Q128.6 48.6 133.7 51.6Q138.8 54.6 141.9 60.3Q145.1 66 145.1 74.2L145.1 74.2Q145.1 82.2 141.9 87.9Q138.8 93.6 133.7 96.6Q128.6 99.6 122.6 99.6ZM21.3 115.1L21.3 115.1Q28.3 115.1 32.5 112.1Q36.7 109 36.7 105.2L36.7 105.2Q36.7 101.8 34.2 100.5Q31.6 99.2 26.9 99.2L26.9 99.2L18.5 99.2Q17.1 99.2 15.5 99Q13.8 98.8 12.2 98.4L12.2 98.4Q9.6 100.3 8.4 102.4Q7.2 104.5 7.2 106.6L7.2 106.6Q7.2 110.5 11 112.8Q14.7 115.1 21.3 115.1ZM20.1 77.5L20.1 77.5Q24.3 77.5 27.4 74.4Q30.4 71.2 30.4 65.9L30.4 65.9Q30.4 60.6 27.4 57.6Q24.4 54.6 20.1 54.6L20.1 54.6Q15.8 54.6 12.8 57.6Q9.8 60.6 9.8 65.9L9.8 65.9Q9.8 71.2 12.9 74.4Q15.9 77.5 20.1 77.5ZM58.5 70.2L58.5 70.2L84.5 70.2Q84.5 62.8 81.4 59Q78.2 55.1 72.5 55.1L72.5 55.1Q67.4 55.1 63.4 59.1Q59.3 63 58.5 70.2ZM122.6 92.8L122.6 92.8Q128.9 92.8 132.8 87.7Q136.6 82.5 136.6 74.2L136.6 74.2Q136.6 65.8 132.8 60.6Q128.9 55.4 122.6 55.4L122.6 55.4Q116.4 55.4 112.5 60.6Q108.6 65.8 108.6 74.2L108.6 74.2Q108.6 82.5 112.5 87.7Q116.4 92.8 122.6 92.8Z',
  },
  {
    input : 'M50 0a50 50 0 110 100 50 50 0 110-100m0 30a20 20 0 110 40 20 20 0 110-40m0-10q12.42 0 21.21 8.79t8.79 21.21-8.79 21.21-21.21 8.79-21.21-8.79-8.79-21.21 8.79-21.21 21.21-8.79m-40-20a5 5 0 110 10 5 5 0 110-10m80 0a5 5 0 110 10 5 5 0 110-10m0 2.5a2.5 2.5 0 110 5 2.5 2.5 0 110-5m-45 42.5h10v10h-10zm-5-5h20v20h-20zm10-30c22.07 0 40 17.93 40 40s-17.93 40-40 40-40-17.93-40-40 17.93-40 40-40',
    output: 'M50 0A50 50 0 1 1 50 100A50 50 0 1 1 50 0M10 0A5 5 0 1 1 10 10A5 5 0 1 1 10 0M90 0A5 5 0 1 1 90 10A5 5 0 1 1 90 0M50 10C27.93 10 10 27.93 10 50C10 72.07 27.93 90 50 90C72.07 90 90 72.07 90 50C90 27.93 72.07 10 50 10M90 2.5A2.5 2.5 0 1 0 90 7.5A2.5 2.5 0 1 0 90 2.5M50 20Q62.42 20 71.21 28.79Q80 37.58 80 50Q80 62.42 71.21 71.21Q62.42 80 50 80Q37.58 80 28.79 71.21Q20 62.42 20 50Q20 37.58 28.79 28.79Q37.58 20 50 20M50 30A20 20 0 1 0 50 70A20 20 0 1 0 50 30M40 40L60 40L60 60L40 60ZM45 55L55 55L55 45L45 45Z',
  },
]

describe('Fix path', () => {
  it.concurrent.each(cases)('should able auto fix path #%#', ({ input, output }) => {
    expect(fixPath(input)).toBe(output)
  })
})
