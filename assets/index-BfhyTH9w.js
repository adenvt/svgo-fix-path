var He=Object.defineProperty;var Xe=(r,e,n)=>e in r?He(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var I=(r,e,n)=>Xe(r,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}})();var Ue=Object.defineProperty,Be=(r,e,n)=>e in r?Ue(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,N=(r,e,n)=>Be(r,typeof e!="symbol"?e+"":e,n);const Ye={a:1,b:0,c:0,d:1,e:0,f:0,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,is2D:!0,isIdentity:!0},we=r=>(r instanceof Float64Array||r instanceof Float32Array||Array.isArray(r)&&r.every(e=>typeof e=="number"))&&[6,16].some(e=>r.length===e),Ce=r=>r instanceof DOMMatrix||r instanceof b||typeof r=="object"&&Object.keys(Ye).every(e=>r&&e in r),U=r=>{const e=new b,n=Array.from(r);if(!we(n))throw TypeError(`CSSMatrix: "${n.join(",")}" must be an array with 6/16 numbers.`);// istanbul ignore else @preserve
if(n.length===16){const[i,t,a,m,l,s,o,u,h,f,d,c,y,x,M,p]=n;e.m11=i,e.a=i,e.m21=l,e.c=l,e.m31=h,e.m41=y,e.e=y,e.m12=t,e.b=t,e.m22=s,e.d=s,e.m32=f,e.m42=x,e.f=x,e.m13=a,e.m23=o,e.m33=d,e.m43=M,e.m14=m,e.m24=u,e.m34=c,e.m44=p}else if(n.length===6){const[i,t,a,m,l,s]=n;e.m11=i,e.a=i,e.m12=t,e.b=t,e.m21=a,e.c=a,e.m22=m,e.d=m,e.m41=l,e.e=l,e.m42=s,e.f=s}return e},Se=r=>{if(Ce(r))return U([r.m11,r.m12,r.m13,r.m14,r.m21,r.m22,r.m23,r.m24,r.m31,r.m32,r.m33,r.m34,r.m41,r.m42,r.m43,r.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(r)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)},$e=r=>{if(typeof r!="string")throw TypeError(`CSSMatrix: "${JSON.stringify(r)}" is not a string.`);const e=String(r).replace(/\s/g,"");let n=new b;const i=`CSSMatrix: invalid transform string "${r}"`;return e.split(")").filter(t=>t).forEach(t=>{const[a,m]=t.split("(");if(!m)throw TypeError(i);const l=m.split(",").map(c=>c.includes("rad")?parseFloat(c)*(180/Math.PI):parseFloat(c)),[s,o,u,h]=l,f=[s,o,u],d=[s,o,u,h];if(a==="perspective"&&s&&[o,u].every(c=>c===void 0))n.m34=-1/s;else if(a.includes("matrix")&&[6,16].includes(l.length)&&l.every(c=>!Number.isNaN(+c))){const c=l.map(y=>Math.abs(y)<1e-6?0:y);n=n.multiply(U(c))}else if(a==="translate3d"&&f.every(c=>!Number.isNaN(+c)))n=n.translate(s,o,u);else if(a==="translate"&&s&&u===void 0)n=n.translate(s,o||0,0);else if(a==="rotate3d"&&d.every(c=>!Number.isNaN(+c))&&h)n=n.rotateAxisAngle(s,o,u,h);else if(a==="rotate"&&s&&[o,u].every(c=>c===void 0))n=n.rotate(0,0,s);else if(a==="scale3d"&&f.every(c=>!Number.isNaN(+c))&&f.some(c=>c!==1))n=n.scale(s,o,u);else if(a==="scale"&&!Number.isNaN(s)&&(s!==1||o!==1)&&u===void 0){const c=Number.isNaN(+o)?s:o;n=n.scale(s,c,1)}else if(a==="skew"&&(s||!Number.isNaN(s)&&o)&&u===void 0)n=n.skew(s,o||0);else if(["translate","rotate","scale","skew"].some(c=>a.includes(c))&&/[XYZ]/.test(a)&&s&&[o,u].every(c=>c===void 0))if(a==="skewX"||a==="skewY")n=n[a](s);else{const c=a.replace(/[XYZ]/,""),y=a.replace(c,""),x=["X","Y","Z"].indexOf(y),M=c==="scale"?1:0,p=[x===0?s:M,x===1?s:M,x===2?s:M];n=n[c](...p)}else throw TypeError(i)}),n},ie=(r,e)=>e?[r.a,r.b,r.c,r.d,r.e,r.f]:[r.m11,r.m12,r.m13,r.m14,r.m21,r.m22,r.m23,r.m24,r.m31,r.m32,r.m33,r.m34,r.m41,r.m42,r.m43,r.m44],Le=(r,e,n)=>{const i=new b;return i.m41=r,i.e=r,i.m42=e,i.f=e,i.m43=n,i},Ne=(r,e,n)=>{const i=new b,t=Math.PI/180,a=r*t,m=e*t,l=n*t,s=Math.cos(a),o=-Math.sin(a),u=Math.cos(m),h=-Math.sin(m),f=Math.cos(l),d=-Math.sin(l),c=u*f,y=-u*d;i.m11=c,i.a=c,i.m12=y,i.b=y,i.m13=h;const x=o*h*f+s*d;i.m21=x,i.c=x;const M=s*f-o*h*d;return i.m22=M,i.d=M,i.m23=-o*u,i.m31=o*d-s*h*f,i.m32=o*f+s*h*d,i.m33=s*u,i},qe=(r,e,n,i)=>{const t=new b,a=Math.sqrt(r*r+e*e+n*n);if(a===0)return t;const m=r/a,l=e/a,s=n/a,o=i*(Math.PI/360),u=Math.sin(o),h=Math.cos(o),f=u*u,d=m*m,c=l*l,y=s*s,x=1-2*(c+y)*f;t.m11=x,t.a=x;const M=2*(m*l*f+s*u*h);t.m12=M,t.b=M,t.m13=2*(m*s*f-l*u*h);const p=2*(l*m*f-s*u*h);t.m21=p,t.c=p;const g=1-2*(y+d)*f;return t.m22=g,t.d=g,t.m23=2*(l*s*f+m*u*h),t.m31=2*(s*m*f+l*u*h),t.m32=2*(s*l*f-m*u*h),t.m33=1-2*(d+c)*f,t},Pe=(r,e,n)=>{const i=new b;return i.m11=r,i.a=r,i.m22=e,i.d=e,i.m33=n,i},ee=(r,e)=>{const n=new b;if(r){const i=r*Math.PI/180,t=Math.tan(i);n.m21=t,n.c=t}if(e){const i=e*Math.PI/180,t=Math.tan(i);n.m12=t,n.b=t}return n},ke=r=>ee(r,0),Ee=r=>ee(0,r),T=(r,e)=>{const n=e.m11*r.m11+e.m12*r.m21+e.m13*r.m31+e.m14*r.m41,i=e.m11*r.m12+e.m12*r.m22+e.m13*r.m32+e.m14*r.m42,t=e.m11*r.m13+e.m12*r.m23+e.m13*r.m33+e.m14*r.m43,a=e.m11*r.m14+e.m12*r.m24+e.m13*r.m34+e.m14*r.m44,m=e.m21*r.m11+e.m22*r.m21+e.m23*r.m31+e.m24*r.m41,l=e.m21*r.m12+e.m22*r.m22+e.m23*r.m32+e.m24*r.m42,s=e.m21*r.m13+e.m22*r.m23+e.m23*r.m33+e.m24*r.m43,o=e.m21*r.m14+e.m22*r.m24+e.m23*r.m34+e.m24*r.m44,u=e.m31*r.m11+e.m32*r.m21+e.m33*r.m31+e.m34*r.m41,h=e.m31*r.m12+e.m32*r.m22+e.m33*r.m32+e.m34*r.m42,f=e.m31*r.m13+e.m32*r.m23+e.m33*r.m33+e.m34*r.m43,d=e.m31*r.m14+e.m32*r.m24+e.m33*r.m34+e.m34*r.m44,c=e.m41*r.m11+e.m42*r.m21+e.m43*r.m31+e.m44*r.m41,y=e.m41*r.m12+e.m42*r.m22+e.m43*r.m32+e.m44*r.m42,x=e.m41*r.m13+e.m42*r.m23+e.m43*r.m33+e.m44*r.m43,M=e.m41*r.m14+e.m42*r.m24+e.m43*r.m34+e.m44*r.m44;return U([n,i,t,a,m,l,s,o,u,h,f,d,c,y,x,M])};class b{constructor(e){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,e?this.setMatrixValue(e):this}get isIdentity(){return this.m11===1&&this.m12===0&&this.m13===0&&this.m14===0&&this.m21===0&&this.m22===1&&this.m23===0&&this.m24===0&&this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m41===0&&this.m42===0&&this.m43===0&&this.m44===1}get is2D(){return this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m43===0&&this.m44===1}setMatrixValue(e){return typeof e=="string"&&e.length&&e!=="none"?$e(e):Array.isArray(e)||e instanceof Float64Array||e instanceof Float32Array?U(e):typeof e=="object"?Se(e):this}toFloat32Array(e){return Float32Array.from(ie(this,e))}toFloat64Array(e){return Float64Array.from(ie(this,e))}toString(){const{is2D:e}=this,n=this.toFloat64Array(e).join(", ");return`${e?"matrix":"matrix3d"}(${n})`}toJSON(){const{is2D:e,isIdentity:n}=this;return{...this,is2D:e,isIdentity:n}}multiply(e){return T(this,e)}translate(e,n,i){const t=e;let a=n,m=i;return typeof a>"u"&&(a=0),typeof m>"u"&&(m=0),T(this,Le(t,a,m))}scale(e,n,i){const t=e;let a=n,m=i;return typeof a>"u"&&(a=e),typeof m>"u"&&(m=1),T(this,Pe(t,a,m))}rotate(e,n,i){let t=e,a=n||0,m=i||0;return typeof e=="number"&&typeof n>"u"&&typeof i>"u"&&(m=t,t=0,a=0),T(this,Ne(t,a,m))}rotateAxisAngle(e,n,i,t){if([e,n,i,t].some(a=>Number.isNaN(+a)))throw new TypeError("CSSMatrix: expecting 4 values");return T(this,qe(e,n,i,t))}skewX(e){return T(this,ke(e))}skewY(e){return T(this,Ee(e))}skew(e,n){return T(this,ee(e,n))}transformPoint(e){const n=this.m11*e.x+this.m21*e.y+this.m31*e.z+this.m41*e.w,i=this.m12*e.x+this.m22*e.y+this.m32*e.z+this.m42*e.w,t=this.m13*e.x+this.m23*e.y+this.m33*e.z+this.m43*e.w,a=this.m14*e.x+this.m24*e.y+this.m34*e.z+this.m44*e.w;return e instanceof DOMPoint?new DOMPoint(n,i,t,a):{x:n,y:i,z:t,w:a}}}N(b,"Translate",Le),N(b,"Rotate",Ne),N(b,"RotateAxisAngle",qe),N(b,"Scale",Pe),N(b,"SkewX",ke),N(b,"SkewY",Ee),N(b,"Skew",ee),N(b,"Multiply",T),N(b,"fromArray",U),N(b,"fromMatrix",Se),N(b,"fromString",$e),N(b,"toArray",ie),N(b,"isCompatibleArray",we),N(b,"isCompatibleObject",Ce);var Je=(r,e,n)=>{let[i,t]=r,[a,m]=e;return[i+(a-i)*n,t+(m-t)*n]},Re=Je,Ge=(r,e)=>Math.sqrt((r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1])),Te=Ge,_=(r,e,n,i)=>Te([r,e],[n,i]),Ve=(r,e,n,i,t)=>{let a={x:r,y:e};if(typeof t=="number"){let m=Te([r,e],[n,i]);if(t<=0)a={x:r,y:e};else if(t>=m)a={x:n,y:i};else{let[l,s]=Re([r,e],[n,i],t/m);a={x:l,y:s}}}return a},he=(r,e,n,i)=>{let{min:t,max:a}=Math;return[t(r,n),t(e,i),a(r,n),a(e,i)]},ze=(r,e,n)=>{let i=n/2,t=Math.sin(i),a=Math.cos(i),m=r**2*t**2,l=e**2*a**2,s=Math.sqrt(m+l)*n;return Math.abs(s)},F=(r,e,n,i,t,a)=>{let{sin:m,cos:l}=Math,s=l(t),o=m(t),u=n*l(a),h=i*m(a);return[r+s*u-o*h,e+o*u+s*h]},fe=(r,e)=>{let{x:n,y:i}=r,{x:t,y:a}=e,m=n*t+i*a,l=Math.sqrt((n**2+i**2)*(t**2+a**2));return(n*a-i*t<0?-1:1)*Math.acos(m/l)},le=(r,e,n,i,t,a,m,l,s)=>{let{abs:o,sin:u,cos:h,sqrt:f,PI:d}=Math,c=o(n),y=o(i),x=(t%360+360)%360*(d/180);if(r===l&&e===s)return{rx:c,ry:y,startAngle:0,endAngle:0,center:{x:l,y:s}};if(c===0||y===0)return{rx:c,ry:y,startAngle:0,endAngle:0,center:{x:(l+r)/2,y:(s+e)/2}};let M=(r-l)/2,p=(e-s)/2,g={x:h(x)*M+u(x)*p,y:-u(x)*M+h(x)*p},A=g.x**2/c**2+g.y**2/y**2;A>1&&(c*=f(A),y*=f(A));let C=c**2*y**2-c**2*g.y**2-y**2*g.x**2,S=c**2*g.y**2+y**2*g.x**2,L=C/S;L=L<0?0:L;let k=(a!==m?1:-1)*f(L),w={x:k*(c*g.y/y),y:k*(-(y*g.x)/c)},q={x:h(x)*w.x-u(x)*w.y+(r+l)/2,y:u(x)*w.x+h(x)*w.y+(e+s)/2},E={x:(g.x-w.x)/c,y:(g.y-w.y)/y},V=fe({x:1,y:0},E),v={x:(-g.x-w.x)/c,y:(-g.y-w.y)/y},$=fe(E,v);!m&&$>0?$-=2*d:m&&$<0&&($+=2*d),$%=2*d;let z=V+$;return{center:q,startAngle:V,endAngle:z,rx:c,ry:y}},Oe=(r,e,n,i,t,a,m,l,s)=>{let{rx:o,ry:u,startAngle:h,endAngle:f}=le(r,e,n,i,t,a,m,l,s);return ze(o,u,f-h)},Ke=(r,e,n,i,t,a,m,l,s,o)=>{let u={x:r,y:e},{center:h,rx:f,ry:d,startAngle:c,endAngle:y}=le(r,e,n,i,t,a,m,l,s);if(typeof o=="number"){let x=ze(f,d,y-c);if(o<=0)u={x:r,y:e};else if(o>=x)u={x:l,y:s};else{if(r===l&&e===s)return{x:l,y:s};if(f===0||d===0)return Ve(r,e,l,s,o);let{PI:M,cos:p,sin:g}=Math,A=y-c,C=(t%360+360)%360*(M/180),S=c+A*(o/x),L=f*p(S),k=d*g(S);u={x:p(C)*L-g(C)*k+h.x,y:g(C)*L+p(C)*k+h.y}}}return u},We=(r,e,n,i,t,a,m,l,s)=>{let{center:o,rx:u,ry:h,startAngle:f,endAngle:d}=le(r,e,n,i,t,a,m,l,s),c=d-f,{min:y,max:x,tan:M,atan2:p,PI:g}=Math,{x:A,y:C}=o,S=t*g/180,L=M(S),k=p(-h*L,u),w=k,q=k+g,E=p(h,u*L),V=E+g,v=[l],$=[s],z=y(r,l),B=x(r,l),Y=y(e,s),J=x(e,s),De=d-c*1e-5,R=F(A,C,u,h,S,De),je=d-c*.99999,G=F(A,C,u,h,S,je);if(R[0]>B||G[0]>B){let P=F(A,C,u,h,S,w);v.push(P[0]),$.push(P[1])}if(R[0]<z||G[0]<z){let P=F(A,C,u,h,S,q);v.push(P[0]),$.push(P[1])}if(R[1]<Y||G[1]<Y){let P=F(A,C,u,h,S,V);v.push(P[0]),$.push(P[1])}if(R[1]>J||G[1]>J){let P=F(A,C,u,h,S,E);v.push(P[0]),$.push(P[1])}return z=y.apply([],v),Y=y.apply([],$),B=x.apply([],v),J=x.apply([],$),[z,Y,B,J]},de=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],_e=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],er=r=>{let e=[];for(let n=r,i=n.length,t=i-1;i>1;i-=1,t-=1){let a=[];for(let m=0;m<t;m+=1)a.push({x:t*(n[m+1].x-n[m].x),y:t*(n[m+1].y-n[m].y),t:0});e.push(a),n=a}return e},rr=(r,e)=>{if(e===0)return r[0].t=0,r[0];let n=r.length-1;if(e===1)return r[n].t=1,r[n];let i=1-e,t=r;if(n===0)return r[0].t=e,r[0];if(n===1)return{x:i*t[0].x+e*t[1].x,y:i*t[0].y+e*t[1].y,t:e};let a=i*i,m=e*e,l=0,s=0,o=0,u=0;return n===2?(t=[t[0],t[1],t[2],{x:0,y:0}],l=a,s=i*e*2,o=m):n===3&&(l=a*i,s=a*e*3,o=i*m*3,u=e*m),{x:l*t[0].x+s*t[1].x+o*t[2].x+u*t[3].x,y:l*t[0].y+s*t[1].y+o*t[2].y+u*t[3].y,t:e}},tr=(r,e)=>{let n=r(e),i=n.x*n.x+n.y*n.y;return Math.sqrt(i)},nr=r=>{let e=de.length,n=0;for(let i=0,t;i<e;i++)t=.5*de[i]+.5,n+=_e[i]*tr(r,t);return .5*n},re=r=>{let e=[];for(let i=0,t=r.length,a=2;i<t;i+=a)e.push({x:r[i],y:r[i+1]});let n=er(e);return nr(i=>rr(n[0],i))},ir=1e-8,ae=([r,e,n])=>{let i=Math.min(r,n),t=Math.max(r,n);if(e>=r?n>=e:n<=e)return[i,t];let a=(r*n-e*e)/(r-2*e+n);return a<i?[a,t]:[i,a]},ye=([r,e,n,i])=>{let t=r-3*e+3*n-i;if(Math.abs(t)<ir)return r===i&&r===e?[r,i]:ae([r,-.5*r+1.5*e,r-3*e+3*n]);let a=-r*n+r*i-e*n-e*i+e*e+n*n;if(a<=0)return[Math.min(r,i),Math.max(r,i)];let m=Math.sqrt(a),l=Math.min(r,i),s=Math.max(r,i),o=r-2*e+n;for(let u=(o+m)/t,h=1;h<=2;u=(o-m)/t,h++)if(u>0&&u<1){let f=r*(1-u)*(1-u)*(1-u)+e*3*(1-u)*(1-u)*u+n*3*(1-u)*u*u+i*u*u*u;f<l&&(l=f),f>s&&(s=f)}return[l,s]},ar=([r,e,n,i,t,a,m,l],s)=>{let o=1-s;return{x:o**3*r+3*o**2*s*n+3*o*s**2*t+s**3*m,y:o**3*e+3*o**2*s*i+3*o*s**2*a+s**3*l}},se=(r,e,n,i,t,a,m,l)=>re([r,e,n,i,t,a,m,l]),sr=(r,e,n,i,t,a,m,l,s)=>{let o=typeof s=="number",u={x:r,y:e};if(o){let h=re([r,e,n,i,t,a,m,l]);s<=0||(s>=h?u={x:m,y:l}:u=ar([r,e,n,i,t,a,m,l],s/h))}return u},xe=(r,e,n,i,t,a,m,l)=>{let s=ye([r,n,t,m]),o=ye([e,i,a,l]);return[s[0],o[0],s[1],o[1]]},mr=([r,e,n,i,t,a],m)=>{let l=1-m;return{x:l**2*r+2*l*m*n+m**2*t,y:l**2*e+2*l*m*i+m**2*a}},me=(r,e,n,i,t,a)=>re([r,e,n,i,t,a]),lr=(r,e,n,i,t,a,m)=>{let l=typeof m=="number",s={x:r,y:e};if(l){let o=re([r,e,n,i,t,a]);m<=0||(m>=o?s={x:t,y:a}:s=mr([r,e,n,i,t,a],m/o))}return s},pe=(r,e,n,i,t,a)=>{let m=ae([r,n,t]),l=ae([e,i,a]);return[m[0],l[0],m[1],l[1]]},or=(r,e)=>{let n=e>=1?10**e:1;return e>0?Math.round(r*n)/n:Math.round(r)},cr=or,ur={round:4},hr=ur,fr={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},K=fr,dr=r=>{let e=r.pathValue[r.segmentStart],n=e.toLowerCase(),{data:i}=r;for(;i.length>=K[n]&&(n==="m"&&i.length>2?(r.segments.push([e].concat(i.splice(0,2))),n="l",e=e==="m"?"l":"L"):r.segments.push([e].concat(i.splice(0,K[n]))),!!K[n]););},ve=dr,yr="SVGPathCommander Error",O=yr,xr=r=>{let{index:e,pathValue:n}=r,i=n.charCodeAt(e);if(i===48){r.param=0,r.index+=1;return}if(i===49){r.param=1,r.index+=1;return}r.err=`${O}: invalid Arc flag "${n[e]}", expecting 0 or 1 at index ${e}`},pr=xr,vr=r=>r>=48&&r<=57,Z=vr,gr="Invalid path value",Q=gr,Mr=r=>{let{max:e,pathValue:n,index:i}=r,t=i,a=!1,m=!1,l=!1,s=!1,o;if(t>=e){r.err=`${O}: ${Q} at index ${t}, "pathValue" is missing param`;return}if(o=n.charCodeAt(t),(o===43||o===45)&&(t+=1,o=n.charCodeAt(t)),!Z(o)&&o!==46){r.err=`${O}: ${Q} at index ${t}, "${n[t]}" is not a number`;return}if(o!==46){if(a=o===48,t+=1,o=n.charCodeAt(t),a&&t<e&&o&&Z(o)){r.err=`${O}: ${Q} at index ${i}, "${n[i]}" illegal number`;return}for(;t<e&&Z(n.charCodeAt(t));)t+=1,m=!0;o=n.charCodeAt(t)}if(o===46){for(s=!0,t+=1;Z(n.charCodeAt(t));)t+=1,l=!0;o=n.charCodeAt(t)}if(o===101||o===69){if(s&&!m&&!l){r.err=`${O}: ${Q} at index ${t}, "${n[t]}" invalid float exponent`;return}if(t+=1,o=n.charCodeAt(t),(o===43||o===45)&&(t+=1),t<e&&Z(n.charCodeAt(t)))for(;t<e&&Z(n.charCodeAt(t));)t+=1;else{r.err=`${O}: ${Q} at index ${t}, "${n[t]}" invalid integer exponent`;return}}r.index=t,r.param=+r.pathValue.slice(i,t)},br=Mr,Ar=r=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(r),wr=Ar,Cr=r=>{let{pathValue:e,max:n}=r;for(;r.index<n&&wr(e.charCodeAt(r.index));)r.index+=1},W=Cr,Sr=r=>{switch(r|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}},$r=Sr,Lr=r=>Z(r)||r===43||r===45||r===46,Nr=Lr,qr=r=>(r|32)===97,Pr=qr,kr=r=>{switch(r|32){case 109:case 77:return!0;default:return!1}},Er=kr,Tr=r=>{var s;let{max:e,pathValue:n,index:i,segments:t}=r,a=n.charCodeAt(i),m=K[n[i].toLowerCase()];if(r.segmentStart=i,!$r(a)){r.err=`${O}: ${Q} "${n[i]}" is not a path command at index ${i}`;return}let l=t[t.length-1];if(!Er(a)&&((s=l==null?void 0:l[0])==null?void 0:s.toLocaleLowerCase())==="z"){r.err=`${O}: ${Q} "${n[i]}" is not a MoveTo path command at index ${i}`;return}if(r.index+=1,W(r),r.data=[],!m){ve(r);return}for(;;){for(let o=m;o>0;o-=1){if(Pr(a)&&(o===3||o===4)?pr(r):br(r),r.err.length)return;r.data.push(r.param),W(r),r.index<e&&n.charCodeAt(r.index)===44&&(r.index+=1,W(r))}if(r.index>=r.max||!Nr(n.charCodeAt(r.index)))break}ve(r)},Vr=Tr,zr=class{constructor(r){this.segments=[],this.pathValue=r,this.max=r.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}},Or=r=>{if(typeof r!="string")return r.slice(0);let e=new zr(r);for(W(e);e.index<e.max&&!e.err.length;)Vr(e);if(!e.err.length)e.segments.length&&(e.segments[0][0]="M");else throw TypeError(e.err);return e.segments},te=Or,Ir=(r,e,n,i)=>{let[t]=r,a=t.toUpperCase();if(e===0||a===t)return r;if(a==="A")return[a,r[1],r[2],r[3],r[4],r[5],r[6]+n,r[7]+i];if(a==="V")return[a,r[1]+i];if(a==="H")return[a,r[1]+n];if(a==="L")return[a,r[1]+n,r[2]+i];{let l=[],s=r.length;for(let o=1;o<s;o+=1)l.push(r[o]+(o%2?n:i));return[a].concat(l)}},oe=Ir,Zr=(r,e)=>{let n=r.length,i,t="M",a="M",m=!1,l=0,s=0,o=0,u=0,h=0;for(let f=0;f<n;f+=1){i=r[f],[t]=i,h=i.length,a=t.toUpperCase(),m=a!==t;let d=e(i,f,l,s);if(d===!1)break;a==="Z"?(l=o,s=u):a==="H"?l=i[1]+(m?l:0):a==="V"?s=i[1]+(m?s:0):(l=i[h-2]+(m?l:0),s=i[h-1]+(m?s:0),a==="M"&&(o=l,u=s)),d&&(r[f]=d,d[0]==="C"&&(n=r.length))}return r},j=Zr,Qr=r=>{let e=te(r);return j(e,oe)},Fr=Qr,Dr=(r,e)=>{let[n]=r,i=n.toUpperCase(),t=n!==i,{x1:a,y1:m,x2:l,y2:s,x:o,y:u}=e,h=r.slice(1),f=h.map((d,c)=>d+(t?c%2?u:o:0));if("TQ".includes(i)||(e.qx=null,e.qy=null),i==="A")return f=h.slice(0,-2).concat(h[5]+(t?o:0),h[6]+(t?u:0)),["A"].concat(f);if(i==="H")return["L",r[1]+(t?o:0),m];if(i==="V")return["L",a,r[1]+(t?u:0)];if(i==="L")return["L",r[1]+(t?o:0),r[2]+(t?u:0)];if(i==="M")return["M",r[1]+(t?o:0),r[2]+(t?u:0)];if(i==="C")return["C"].concat(f);if(i==="S"){let d=a*2-l,c=m*2-s;return e.x1=d,e.y1=c,["C",d,c].concat(f)}else if(i==="T"){let d=a*2-(e.qx?e.qx:0),c=m*2-(e.qy?e.qy:0);return e.qx=d,e.qy=c,["Q",d,c].concat(f)}else if(i==="Q"){let[d,c]=f;return e.qx=d,e.qy=c,["Q"].concat(f)}else if(i==="Z")return["Z"];return r},jr=Dr,Hr={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},Ie=Hr,Xr=(r,e)=>{let n=r.length,{round:i}=hr,t=r[0],a="";i=e==="off"||typeof e=="number"&&e>=0?e:typeof i=="number"&&i>=0?i:"off";for(let m=0;m<n;m+=1){t=r[m];let[l]=t,s=t.slice(1);if(a+=l,i==="off")a+=s.join(" ");else{let o=0,u=s.length;for(;o<u;)a+=cr(s[o],i),o!==u-1&&(a+=" "),o+=1}}return a},Ze=Xr,Ur=r=>{if(!r)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};let e=te(r),n="M",i=0,t=0,{max:a,min:m}=Math,l=1/0,s=1/0,o=-1/0,u=-1/0,h=0,f=0,d=0,c=0,y=0,x=0,M=0,p=0,g=0,A=0;j(e,(L,k,w,q)=>{[n]=L;let E=n.toUpperCase(),V=E!==n?oe(L,k,w,q):L.slice(0),v=E==="V"?["L",w,V[1]]:E==="H"?["L",V[1],q]:V;if([n]=v,"TQ".includes(E)||(g=0,A=0),n==="M")[,i,t]=v,h=i,f=t,d=i,c=t;else if(n==="L")[h,f,d,c]=he(w,q,v[1],v[2]);else if(n==="A")[h,f,d,c]=We(w,q,v[1],v[2],v[3],v[4],v[5],v[6],v[7]);else if(n==="S"){let $=y*2-M,z=x*2-p;[h,f,d,c]=xe(w,q,$,z,v[1],v[2],v[3],v[4])}else n==="C"?[h,f,d,c]=xe(w,q,v[1],v[2],v[3],v[4],v[5],v[6]):n==="T"?(g=y*2-g,A=x*2-A,[h,f,d,c]=pe(w,q,g,A,v[1],v[2])):n==="Q"?(g=v[1],A=v[2],[h,f,d,c]=pe(w,q,v[1],v[2],v[3],v[4])):n==="Z"&&([h,f,d,c]=he(w,q,i,t));l=m(h,l),s=m(f,s),o=a(d,o),u=a(c,u),[y,x]=n==="Z"?[i,t]:v.slice(-2),[M,p]=n==="C"?[v[3],v[4]]:n==="S"?[v[1],v[2]]:[y,x]});let C=o-l,S=u-s;return{width:C,height:S,x:l,y:s,x2:o,y2:u,cx:l+C/2,cy:s+S/2,cz:Math.max(C,S)+Math.min(C,S)/2}},Br=Ur,Yr=r=>{let e=te(r),n=0,i=0,t=0,a=0,m=0,l=0,s="M",o=0,u=0,h=0;return j(e,(f,d,c,y)=>{[s]=f;let x=s.toUpperCase(),M=x!==s?oe(f,d,c,y):f.slice(0),p=x==="V"?["L",c,M[1]]:x==="H"?["L",M[1],y]:M;if([s]=p,"TQ".includes(x)||(m=0,l=0),s==="M")[,o,u]=p;else if(s==="L")h+=_(c,y,p[1],p[2]);else if(s==="A")h+=Oe(c,y,p[1],p[2],p[3],p[4],p[5],p[6],p[7]);else if(s==="S"){let g=n*2-t,A=i*2-a;h+=se(c,y,g,A,p[1],p[2],p[3],p[4])}else s==="C"?h+=se(c,y,p[1],p[2],p[3],p[4],p[5],p[6]):s==="T"?(m=n*2-m,l=i*2-l,h+=me(c,y,m,l,p[1],p[2])):s==="Q"?(m=p[1],l=p[2],h+=me(c,y,p[1],p[2],p[3],p[4])):s==="Z"&&(h+=_(c,y,o,u));[n,i]=s==="Z"?[o,u]:p.slice(-2),[t,a]=s==="C"?[p[3],p[4]]:s==="S"?[p[1],p[2]]:[n,i]}),h},Jr=Yr,ge=1e-5,Rr=r=>{let e=te(r),n={...Ie};return j(e,(i,t,a,m)=>{n.x=a,n.y=m;let l=jr(i,n),s=l.length;return n.x1=+l[s-2],n.y1=+l[s-1],n.x2=+l[s-4]||n.x1,n.y2=+l[s-3]||n.y1,l})},ne=Rr,Gr=(r,e)=>{let n=ne(r),i=!1,t=[],a="M",m=0,l=0,[s,o]=n[0].slice(1),u=typeof e=="number",h={x:s,y:o},f=0,d=h,c=0;return!u||e<ge?h:(j(n,(y,x,M,p)=>{if([a]=y,i=a==="M",t=i?t:[M,p].concat(y.slice(1)),i?([,s,o]=y,h={x:s,y:o},f=0):a==="L"?(h=Ve(t[0],t[1],t[2],t[3],e-c),f=_(t[0],t[1],t[2],t[3])):a==="A"?(h=Ke(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],e-c),f=Oe(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])):a==="C"?(h=sr(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],e-c),f=se(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7])):a==="Q"?(h=lr(t[0],t[1],t[2],t[3],t[4],t[5],e-c),f=me(t[0],t[1],t[2],t[3],t[4],t[5])):a==="Z"&&(t=[M,p,s,o],h={x:s,y:o},f=_(t[0],t[1],t[2],t[3])),[m,l]=t.slice(-2),c<e)d=h;else return!1;c+=f}),e>c-ge?{x:m,y:l}:d)},Kr=Gr,Wr=r=>{let e=Fr(r),n=ne(e),i=e.length,t=e[i-1][0]==="Z",a=j(e,(m,l)=>{let s=n[l],o=l&&e[l-1],u=o&&o[0],h=e[l+1],f=h&&h[0],[d]=m,[c,y]=n[l?l-1:i-1].slice(-2),x=m;switch(d){case"M":x=t?["Z"]:[d,c,y];break;case"A":x=[d,m[1],m[2],m[3],m[4],m[5]===1?0:1,c,y];break;case"C":h&&f==="S"?x=["S",m[1],m[2],c,y]:x=[d,m[3],m[4],m[1],m[2],c,y];break;case"S":u&&"CS".includes(u)&&(!h||f!=="S")?x=["C",s[3],s[4],s[1],s[2],c,y]:x=[d,s[1],s[2],c,y];break;case"Q":h&&f==="T"?x=["T",c,y]:x=[d,m[1],m[2],c,y];break;case"T":u&&"QT".includes(u)&&(!h||f!=="T")?x=["Q",s[1],s[2],c,y]:x=[d,c,y];break;case"Z":x=["M",c,y];break;case"H":x=[d,c];break;case"V":x=[d,y];break;default:x=[d].concat(m.slice(1,-2),c,y)}return x});return t?a.reverse():[a[0]].concat(a.slice(1).reverse())},_r=Wr,et=r=>{let e=[],n,i=-1,t=0,a=0,m=0,l=0,s={...Ie};return r.forEach(o=>{let[u]=o,h=u.toUpperCase(),f=u.toLowerCase(),d=u===f,c=o.slice(1);h==="M"?(i+=1,[t,a]=c,t+=d?s.x:0,a+=d?s.y:0,m=t,l=a,n=[d?[h,m,l]:o]):(h==="Z"?(t=m,a=l):h==="H"?([,t]=o,t+=d?s.x:0):h==="V"?([,a]=o,a+=d?s.y:0):([t,a]=o.slice(-2),t+=d?s.x:0,a+=d?s.y:0),n.push(o)),s.x=t,s.y=a,e[i]=n}),e},Qe=et;function Me(r,e,n){return r.every(i=>rt(i,n)&&tt(i,e))}function rt(r,e){return r.x>=e.x&&r.x<=e.x2&&r.y>=e.y&&r.y<=e.y2}function tt(r,e){let n=!1;for(let i=-1,t=e.length,a=t-1;++i<t;a=i)(e[i].y<=r.y&&r.y<e[a].y||e[a].y<=r.y&&r.y<e[i].y)&&r.x<(e[a].x-e[i].x)*(r.y-e[i].y)/(e[a].y-e[i].y)+e[i].x&&(n=!n);return n}function nt(r,e=30){const n=[],i=Jr(r),t=Math.ceil(i/e);for(let a=0;a<i;a+=t)n.push(Kr(r,a));return n}function it(r){const e=r.length;let n=0;for(let i=0;i<e;i++){const t=r[i],a=r[(i+1)%e];n+=t.x*a.y-a.x*t.y}return n}class H{constructor(e){I(this,"path");I(this,"area");I(this,"polygon");I(this,"bbox");I(this,"parent");I(this,"children");this.children=new Set,this.value=e}set value(e){if(e){const n=nt(e),i=it(n),t=Br(e);this.path=e,this.polygon=n,this.area=i,this.bbox=t}}get value(){return this.path}get dir(){if(this.area!==void 0)return this.area>=0?"cw":"ccw"}addChild(e){for(const n of this.children){const i=n.compare(e);if(i===-1)return n.setParent(e),this;if(i===1)return n.addChild(e),this}return this.children.add(e),e.parent=this,this}setParent(e){const n=this.parent;return n&&(n.children.delete(this),n.addChild(e)),e.addChild(this),this}compare(e){if(this.polygon&&e.polygon&&this.bbox&&e.bbox){if(Me(e.polygon,this.polygon,this.bbox))return 1;if(Me(this.polygon,e.polygon,e.bbox))return-1}return 0}reverse(){return this.value&&(this.value=_r(this.value)),this}static from(e){const n=new H;for(const i of e)n.addChild(new H(i));return n}}function at(r){var m;const e=ne(r),n=Qe(e),t=[...H.from(n).children],a=[];for(;t.length>0;){const l=t.shift();if(l){if(l.value){const s=((m=l.parent)==null?void 0:m.dir)??"ccw",o=l.dir;s===o&&l.reverse(),a.push(l.value)}l.children.size>0&&t.push(...l.children)}}return Ze(a.flat())}const st="M50 0a50 50 0 110 100 50 50 0 110-100m0 30a20 20 0 110 40 20 20 0 110-40m0-10q12.42 0 21.21 8.79t8.79 21.21-8.79 21.21-21.21 8.79-21.21-8.79-8.79-21.21 8.79-21.21 21.21-8.79m-40-20a5 5 0 110 10 5 5 0 110-10m80 0a5 5 0 110 10 5 5 0 110-10m0 2.5a2.5 2.5 0 110 5 2.5 2.5 0 110-5m-45 42.5h10v10h-10zm-5-5h20v20h-20zm10-30c22.07 0 40 17.93 40 40s-17.93 40-40 40-40-17.93-40-40 17.93-40 40-40",be=document.querySelector("#showDirections"),D=document.querySelector("#input"),mt=document.querySelector("#preview"),Ae=document.querySelector("#preview-fill"),lt=document.querySelector("#preview-stroke"),ot=document.querySelector("#fix-button"),ce=document.querySelector("#treeview"),X=new Map;be.addEventListener("input",()=>{be.checked?document.body.classList.add("show-marker"):document.body.classList.remove("show-marker")});D.addEventListener("input",()=>{ue()});ot.addEventListener("click",()=>{D.value=at(D.value),ue()});ce.addEventListener("mouseover",r=>{const e=r.target;if(e!=null&&e.matches(".node")){const n=X.get(e);n&&n.classList.add("active")}});ce.addEventListener("mouseout",r=>{const e=r.target;if(e!=null&&e.matches(".node")){const n=X.get(e);n&&n.classList.remove("active")}});function ue(){Ae.setAttribute("d",D.value);const r=Ae.getBBox();mt.setAttribute("viewBox",[r.x,r.y,r.width,r.height].join(" ")),ct()}function ct(){const r=D.value,e=ne(r),n=Qe(e),i=H.from(n),t=document.createElement("ul");X.clear(),Fe(t,i),ce.replaceChildren(t),lt.replaceChildren(...X.values())}function Fe(r,e){var n;for(const i of e.children){const t=document.createElement("li");if(i.value){((n=i.value.at(-1))==null?void 0:n[0])!=="Z"&&i.value.push(["Z"]);const a=document.createElement("span"),m=document.createElementNS("http://www.w3.org/2000/svg","path"),l=Ze(i.value);a.textContent=l,a.classList.add("node"),m.setAttribute("d",l),i.dir&&(m.classList.add(`path-${i.dir}`),t.classList.add(i.dir)),X.set(a,m),t.append(a)}if(i.children.size>0){const a=document.createElement("ul");Fe(a,i),t.classList.add("has-child","expand"),t.append(a)}r.append(t)}}D.value=st;ue();
