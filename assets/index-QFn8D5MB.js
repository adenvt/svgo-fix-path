var qe=Object.defineProperty;var Pe=(r,e,n)=>e in r?qe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var k=(r,e,n)=>Pe(r,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}})();var ke=Object.defineProperty,Ee=(r,e,n)=>e in r?ke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,b=(r,e,n)=>Ee(r,typeof e!="symbol"?e+"":e,n);const Ve={a:1,b:0,c:0,d:1,e:0,f:0,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,is2D:!0,isIdentity:!0},se=r=>(r instanceof Float64Array||r instanceof Float32Array||Array.isArray(r)&&r.every(e=>typeof e=="number"))&&[6,16].some(e=>r.length===e),me=r=>r instanceof DOMMatrix||r instanceof g||typeof r=="object"&&Object.keys(Ve).every(e=>r&&e in r),Z=r=>{const e=new g,n=Array.from(r);if(!se(n))throw TypeError(`CSSMatrix: "${n.join(",")}" must be an array with 6/16 numbers.`);// istanbul ignore else @preserve
if(n.length===16){const[i,t,a,m,o,s,l,u,h,f,d,c,y,p,v,x]=n;e.m11=i,e.a=i,e.m21=o,e.c=o,e.m31=h,e.m41=y,e.e=y,e.m12=t,e.b=t,e.m22=s,e.d=s,e.m32=f,e.m42=p,e.f=p,e.m13=a,e.m23=l,e.m33=d,e.m43=v,e.m14=m,e.m24=u,e.m34=c,e.m44=x}else if(n.length===6){const[i,t,a,m,o,s]=n;e.m11=i,e.a=i,e.m12=t,e.b=t,e.m21=a,e.c=a,e.m22=m,e.d=m,e.m41=o,e.e=o,e.m42=s,e.f=s}return e},oe=r=>{if(me(r))return Z([r.m11,r.m12,r.m13,r.m14,r.m21,r.m22,r.m23,r.m24,r.m31,r.m32,r.m33,r.m34,r.m41,r.m42,r.m43,r.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(r)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)},le=r=>{if(typeof r!="string")throw TypeError(`CSSMatrix: "${JSON.stringify(r)}" is not a string.`);const e=String(r).replace(/\s/g,"");let n=new g;const i=`CSSMatrix: invalid transform string "${r}"`;return e.split(")").filter(t=>t).forEach(t=>{const[a,m]=t.split("(");if(!m)throw TypeError(i);const o=m.split(",").map(c=>c.includes("rad")?parseFloat(c)*(180/Math.PI):parseFloat(c)),[s,l,u,h]=o,f=[s,l,u],d=[s,l,u,h];if(a==="perspective"&&s&&[l,u].every(c=>c===void 0))n.m34=-1/s;else if(a.includes("matrix")&&[6,16].includes(o.length)&&o.every(c=>!Number.isNaN(+c))){const c=o.map(y=>Math.abs(y)<1e-6?0:y);n=n.multiply(Z(c))}else if(a==="translate3d"&&f.every(c=>!Number.isNaN(+c)))n=n.translate(s,l,u);else if(a==="translate"&&s&&u===void 0)n=n.translate(s,l||0,0);else if(a==="rotate3d"&&d.every(c=>!Number.isNaN(+c))&&h)n=n.rotateAxisAngle(s,l,u,h);else if(a==="rotate"&&s&&[l,u].every(c=>c===void 0))n=n.rotate(0,0,s);else if(a==="scale3d"&&f.every(c=>!Number.isNaN(+c))&&f.some(c=>c!==1))n=n.scale(s,l,u);else if(a==="scale"&&!Number.isNaN(s)&&(s!==1||l!==1)&&u===void 0){const c=Number.isNaN(+l)?s:l;n=n.scale(s,c,1)}else if(a==="skew"&&(s||!Number.isNaN(s)&&l)&&u===void 0)n=n.skew(s,l||0);else if(["translate","rotate","scale","skew"].some(c=>a.includes(c))&&/[XYZ]/.test(a)&&s&&[l,u].every(c=>c===void 0))if(a==="skewX"||a==="skewY")n=n[a](s);else{const c=a.replace(/[XYZ]/,""),y=a.replace(c,""),p=["X","Y","Z"].indexOf(y),v=c==="scale"?1:0,x=[p===0?s:v,p===1?s:v,p===2?s:v];n=n[c](...x)}else throw TypeError(i)}),n},H=(r,e)=>e?[r.a,r.b,r.c,r.d,r.e,r.f]:[r.m11,r.m12,r.m13,r.m14,r.m21,r.m22,r.m23,r.m24,r.m31,r.m32,r.m33,r.m34,r.m41,r.m42,r.m43,r.m44],ce=(r,e,n)=>{const i=new g;return i.m41=r,i.e=r,i.m42=e,i.f=e,i.m43=n,i},ue=(r,e,n)=>{const i=new g,t=Math.PI/180,a=r*t,m=e*t,o=n*t,s=Math.cos(a),l=-Math.sin(a),u=Math.cos(m),h=-Math.sin(m),f=Math.cos(o),d=-Math.sin(o),c=u*f,y=-u*d;i.m11=c,i.a=c,i.m12=y,i.b=y,i.m13=h;const p=l*h*f+s*d;i.m21=p,i.c=p;const v=s*f-l*h*d;return i.m22=v,i.d=v,i.m23=-l*u,i.m31=l*d-s*h*f,i.m32=l*f+s*h*d,i.m33=s*u,i},he=(r,e,n,i)=>{const t=new g,a=Math.sqrt(r*r+e*e+n*n);if(a===0)return t;const m=r/a,o=e/a,s=n/a,l=i*(Math.PI/360),u=Math.sin(l),h=Math.cos(l),f=u*u,d=m*m,c=o*o,y=s*s,p=1-2*(c+y)*f;t.m11=p,t.a=p;const v=2*(m*o*f+s*u*h);t.m12=v,t.b=v,t.m13=2*(m*s*f-o*u*h);const x=2*(o*m*f-s*u*h);t.m21=x,t.c=x;const w=1-2*(y+d)*f;return t.m22=w,t.d=w,t.m23=2*(o*s*f+m*u*h),t.m31=2*(s*m*f+o*u*h),t.m32=2*(s*o*f-m*u*h),t.m33=1-2*(d+c)*f,t},fe=(r,e,n)=>{const i=new g;return i.m11=r,i.a=r,i.m22=e,i.d=e,i.m33=n,i},Q=(r,e)=>{const n=new g;if(r){const i=r*Math.PI/180,t=Math.tan(i);n.m21=t,n.c=t}if(e){const i=e*Math.PI/180,t=Math.tan(i);n.m12=t,n.b=t}return n},de=r=>Q(r,0),ye=r=>Q(0,r),M=(r,e)=>{const n=e.m11*r.m11+e.m12*r.m21+e.m13*r.m31+e.m14*r.m41,i=e.m11*r.m12+e.m12*r.m22+e.m13*r.m32+e.m14*r.m42,t=e.m11*r.m13+e.m12*r.m23+e.m13*r.m33+e.m14*r.m43,a=e.m11*r.m14+e.m12*r.m24+e.m13*r.m34+e.m14*r.m44,m=e.m21*r.m11+e.m22*r.m21+e.m23*r.m31+e.m24*r.m41,o=e.m21*r.m12+e.m22*r.m22+e.m23*r.m32+e.m24*r.m42,s=e.m21*r.m13+e.m22*r.m23+e.m23*r.m33+e.m24*r.m43,l=e.m21*r.m14+e.m22*r.m24+e.m23*r.m34+e.m24*r.m44,u=e.m31*r.m11+e.m32*r.m21+e.m33*r.m31+e.m34*r.m41,h=e.m31*r.m12+e.m32*r.m22+e.m33*r.m32+e.m34*r.m42,f=e.m31*r.m13+e.m32*r.m23+e.m33*r.m33+e.m34*r.m43,d=e.m31*r.m14+e.m32*r.m24+e.m33*r.m34+e.m34*r.m44,c=e.m41*r.m11+e.m42*r.m21+e.m43*r.m31+e.m44*r.m41,y=e.m41*r.m12+e.m42*r.m22+e.m43*r.m32+e.m44*r.m42,p=e.m41*r.m13+e.m42*r.m23+e.m43*r.m33+e.m44*r.m43,v=e.m41*r.m14+e.m42*r.m24+e.m43*r.m34+e.m44*r.m44;return Z([n,i,t,a,m,o,s,l,u,h,f,d,c,y,p,v])};class g{constructor(e){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this.m11=1,this.m12=0,this.m13=0,this.m14=0,this.m21=0,this.m22=1,this.m23=0,this.m24=0,this.m31=0,this.m32=0,this.m33=1,this.m34=0,this.m41=0,this.m42=0,this.m43=0,this.m44=1,e?this.setMatrixValue(e):this}get isIdentity(){return this.m11===1&&this.m12===0&&this.m13===0&&this.m14===0&&this.m21===0&&this.m22===1&&this.m23===0&&this.m24===0&&this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m41===0&&this.m42===0&&this.m43===0&&this.m44===1}get is2D(){return this.m31===0&&this.m32===0&&this.m33===1&&this.m34===0&&this.m43===0&&this.m44===1}setMatrixValue(e){return typeof e=="string"&&e.length&&e!=="none"?le(e):Array.isArray(e)||e instanceof Float64Array||e instanceof Float32Array?Z(e):typeof e=="object"?oe(e):this}toFloat32Array(e){return Float32Array.from(H(this,e))}toFloat64Array(e){return Float64Array.from(H(this,e))}toString(){const{is2D:e}=this,n=this.toFloat64Array(e).join(", ");return`${e?"matrix":"matrix3d"}(${n})`}toJSON(){const{is2D:e,isIdentity:n}=this;return{...this,is2D:e,isIdentity:n}}multiply(e){return M(this,e)}translate(e,n,i){const t=e;let a=n,m=i;return typeof a>"u"&&(a=0),typeof m>"u"&&(m=0),M(this,ce(t,a,m))}scale(e,n,i){const t=e;let a=n,m=i;return typeof a>"u"&&(a=e),typeof m>"u"&&(m=1),M(this,fe(t,a,m))}rotate(e,n,i){let t=e,a=n||0,m=i||0;return typeof e=="number"&&typeof n>"u"&&typeof i>"u"&&(m=t,t=0,a=0),M(this,ue(t,a,m))}rotateAxisAngle(e,n,i,t){if([e,n,i,t].some(a=>Number.isNaN(+a)))throw new TypeError("CSSMatrix: expecting 4 values");return M(this,he(e,n,i,t))}skewX(e){return M(this,de(e))}skewY(e){return M(this,ye(e))}skew(e,n){return M(this,Q(e,n))}transformPoint(e){const n=this.m11*e.x+this.m21*e.y+this.m31*e.z+this.m41*e.w,i=this.m12*e.x+this.m22*e.y+this.m32*e.z+this.m42*e.w,t=this.m13*e.x+this.m23*e.y+this.m33*e.z+this.m43*e.w,a=this.m14*e.x+this.m24*e.y+this.m34*e.z+this.m44*e.w;return e instanceof DOMPoint?new DOMPoint(n,i,t,a):{x:n,y:i,z:t,w:a}}}b(g,"Translate",ce),b(g,"Rotate",ue),b(g,"RotateAxisAngle",he),b(g,"Scale",fe),b(g,"SkewX",de),b(g,"SkewY",ye),b(g,"Skew",Q),b(g,"Multiply",M),b(g,"fromArray",Z),b(g,"fromMatrix",oe),b(g,"fromString",le),b(g,"toArray",H),b(g,"isCompatibleArray",se),b(g,"isCompatibleObject",me);var Te=(r,e,n)=>{let[i,t]=r,[a,m]=e;return[i+(a-i)*n,t+(m-t)*n]},Oe=Te,Ze=(r,e)=>Math.sqrt((r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1])),xe=Ze,j=(r,e,n,i)=>xe([r,e],[n,i]),pe=(r,e,n,i,t)=>{let a={x:r,y:e};if(typeof t=="number"){let m=xe([r,e],[n,i]);if(t<=0)a={x:r,y:e};else if(t>=m)a={x:n,y:i};else{let[o,s]=Oe([r,e],[n,i],t/m);a={x:o,y:s}}}return a},ve=(r,e,n)=>{let i=n/2,t=Math.sin(i),a=Math.cos(i),m=r**2*t**2,o=e**2*a**2,s=Math.sqrt(m+o)*n;return Math.abs(s)},_=(r,e)=>{let{x:n,y:i}=r,{x:t,y:a}=e,m=n*t+i*a,o=Math.sqrt((n**2+i**2)*(t**2+a**2));return(n*a-i*t<0?-1:1)*Math.acos(m/o)},ge=(r,e,n,i,t,a,m,o,s)=>{let{abs:l,sin:u,cos:h,sqrt:f,PI:d}=Math,c=l(n),y=l(i),p=(t%360+360)%360*(d/180);if(r===o&&e===s)return{rx:c,ry:y,startAngle:0,endAngle:0,center:{x:o,y:s}};if(c===0||y===0)return{rx:c,ry:y,startAngle:0,endAngle:0,center:{x:(o+r)/2,y:(s+e)/2}};let v=(r-o)/2,x=(e-s)/2,w={x:h(p)*v+u(p)*x,y:-u(p)*v+h(p)*x},S=w.x**2/c**2+w.y**2/y**2;S>1&&(c*=f(S),y*=f(S));let q=c**2*y**2-c**2*w.y**2-y**2*w.x**2,F=c**2*w.y**2+y**2*w.x**2,$=q/F;$=$<0?0:$;let V=(a!==m?1:-1)*f($),A={x:V*(c*w.y/y),y:V*(-(y*w.x)/c)},$e={x:h(p)*A.x-u(p)*A.y+(r+o)/2,y:u(p)*A.x+h(p)*A.y+(e+s)/2},K={x:(w.x-A.x)/c,y:(w.y-A.y)/y},W=_({x:1,y:0},K),Le={x:(-w.x-A.x)/c,y:(-w.y-A.y)/y},P=_(K,Le);!m&&P>0?P-=2*d:m&&P<0&&(P+=2*d),P%=2*d;let Ne=W+P;return{center:$e,startAngle:W,endAngle:Ne,rx:c,ry:y}},we=(r,e,n,i,t,a,m,o,s)=>{let{rx:l,ry:u,startAngle:h,endAngle:f}=ge(r,e,n,i,t,a,m,o,s);return ve(l,u,f-h)},Ie=(r,e,n,i,t,a,m,o,s,l)=>{let u={x:r,y:e},{center:h,rx:f,ry:d,startAngle:c,endAngle:y}=ge(r,e,n,i,t,a,m,o,s);if(typeof l=="number"){let p=ve(f,d,y-c);if(l<=0)u={x:r,y:e};else if(l>=p)u={x:o,y:s};else{if(r===o&&e===s)return{x:o,y:s};if(f===0||d===0)return pe(r,e,o,s,l);let{PI:v,cos:x,sin:w}=Math,S=y-c,q=(t%360+360)%360*(v/180),F=c+S*(l/p),$=f*x(F),V=d*w(F);u={x:x(q)*$-w(q)*V+h.x,y:w(q)*$+x(q)*V+h.y}}}return u},ee=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Fe=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],ze=r=>{let e=[];for(let n=r,i=n.length,t=i-1;i>1;i-=1,t-=1){let a=[];for(let m=0;m<t;m+=1)a.push({x:t*(n[m+1].x-n[m].x),y:t*(n[m+1].y-n[m].y),t:0});e.push(a),n=a}return e},De=(r,e)=>{if(e===0)return r[0].t=0,r[0];let n=r.length-1;if(e===1)return r[n].t=1,r[n];let i=1-e,t=r;if(n===0)return r[0].t=e,r[0];if(n===1)return{x:i*t[0].x+e*t[1].x,y:i*t[0].y+e*t[1].y,t:e};let a=i*i,m=e*e,o=0,s=0,l=0,u=0;return n===2?(t=[t[0],t[1],t[2],{x:0,y:0}],o=a,s=i*e*2,l=m):n===3&&(o=a*i,s=a*e*3,l=i*m*3,u=e*m),{x:o*t[0].x+s*t[1].x+l*t[2].x+u*t[3].x,y:o*t[0].y+s*t[1].y+l*t[2].y+u*t[3].y,t:e}},je=(r,e)=>{let n=r(e),i=n.x*n.x+n.y*n.y;return Math.sqrt(i)},Qe=r=>{let e=ee.length,n=0;for(let i=0,t;i<e;i++)t=.5*ee[i]+.5,n+=Fe[i]*je(r,t);return .5*n},X=r=>{let e=[];for(let i=0,t=r.length,a=2;i<t;i+=a)e.push({x:r[i],y:r[i+1]});let n=ze(e);return Qe(i=>De(n[0],i))},Xe=([r,e,n,i,t,a,m,o],s)=>{let l=1-s;return{x:l**3*r+3*l**2*s*n+3*l*s**2*t+s**3*m,y:l**3*e+3*l**2*s*i+3*l*s**2*a+s**3*o}},U=(r,e,n,i,t,a,m,o)=>X([r,e,n,i,t,a,m,o]),Ye=(r,e,n,i,t,a,m,o,s)=>{let l=typeof s=="number",u={x:r,y:e};if(l){let h=X([r,e,n,i,t,a,m,o]);s<=0||(s>=h?u={x:m,y:o}:u=Xe([r,e,n,i,t,a,m,o],s/h))}return u},He=([r,e,n,i,t,a],m)=>{let o=1-m;return{x:o**2*r+2*o*m*n+m**2*t,y:o**2*e+2*o*m*i+m**2*a}},B=(r,e,n,i,t,a)=>X([r,e,n,i,t,a]),Ue=(r,e,n,i,t,a,m)=>{let o=typeof m=="number",s={x:r,y:e};if(o){let l=X([r,e,n,i,t,a]);m<=0||(m>=l?s={x:t,y:a}:s=He([r,e,n,i,t,a],m/l))}return s},Be=(r,e)=>{let n=e>=1?10**e:1;return e>0?Math.round(r*n)/n:Math.round(r)},Je=Be,Re={round:4},Ge=Re,Ke={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},z=Ke,We=r=>{let e=r.pathValue[r.segmentStart],n=e.toLowerCase(),{data:i}=r;for(;i.length>=z[n]&&(n==="m"&&i.length>2?(r.segments.push([e].concat(i.splice(0,2))),n="l",e=e==="m"?"l":"L"):r.segments.push([e].concat(i.splice(0,z[n]))),!!z[n]););},re=We,_e="SVGPathCommander Error",C=_e,er=r=>{let{index:e,pathValue:n}=r,i=n.charCodeAt(e);if(i===48){r.param=0,r.index+=1;return}if(i===49){r.param=1,r.index+=1;return}r.err=`${C}: invalid Arc flag "${n[e]}", expecting 0 or 1 at index ${e}`},rr=er,tr=r=>r>=48&&r<=57,L=tr,nr="Invalid path value",N=nr,ir=r=>{let{max:e,pathValue:n,index:i}=r,t=i,a=!1,m=!1,o=!1,s=!1,l;if(t>=e){r.err=`${C}: ${N} at index ${t}, "pathValue" is missing param`;return}if(l=n.charCodeAt(t),(l===43||l===45)&&(t+=1,l=n.charCodeAt(t)),!L(l)&&l!==46){r.err=`${C}: ${N} at index ${t}, "${n[t]}" is not a number`;return}if(l!==46){if(a=l===48,t+=1,l=n.charCodeAt(t),a&&t<e&&l&&L(l)){r.err=`${C}: ${N} at index ${i}, "${n[i]}" illegal number`;return}for(;t<e&&L(n.charCodeAt(t));)t+=1,m=!0;l=n.charCodeAt(t)}if(l===46){for(s=!0,t+=1;L(n.charCodeAt(t));)t+=1,o=!0;l=n.charCodeAt(t)}if(l===101||l===69){if(s&&!m&&!o){r.err=`${C}: ${N} at index ${t}, "${n[t]}" invalid float exponent`;return}if(t+=1,l=n.charCodeAt(t),(l===43||l===45)&&(t+=1),t<e&&L(n.charCodeAt(t)))for(;t<e&&L(n.charCodeAt(t));)t+=1;else{r.err=`${C}: ${N} at index ${t}, "${n[t]}" invalid integer exponent`;return}}r.index=t,r.param=+r.pathValue.slice(i,t)},ar=ir,sr=r=>[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279,10,13,8232,8233,32,9,11,12,160].includes(r),mr=sr,or=r=>{let{pathValue:e,max:n}=r;for(;r.index<n&&mr(e.charCodeAt(r.index));)r.index+=1},D=or,lr=r=>{switch(r|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}},cr=lr,ur=r=>L(r)||r===43||r===45||r===46,hr=ur,fr=r=>(r|32)===97,dr=fr,yr=r=>{switch(r|32){case 109:case 77:return!0;default:return!1}},xr=yr,pr=r=>{var s;let{max:e,pathValue:n,index:i,segments:t}=r,a=n.charCodeAt(i),m=z[n[i].toLowerCase()];if(r.segmentStart=i,!cr(a)){r.err=`${C}: ${N} "${n[i]}" is not a path command at index ${i}`;return}let o=t[t.length-1];if(!xr(a)&&((s=o==null?void 0:o[0])==null?void 0:s.toLocaleLowerCase())==="z"){r.err=`${C}: ${N} "${n[i]}" is not a MoveTo path command at index ${i}`;return}if(r.index+=1,D(r),r.data=[],!m){re(r);return}for(;;){for(let l=m;l>0;l-=1){if(dr(a)&&(l===3||l===4)?rr(r):ar(r),r.err.length)return;r.data.push(r.param),D(r),r.index<e&&n.charCodeAt(r.index)===44&&(r.index+=1,D(r))}if(r.index>=r.max||!hr(n.charCodeAt(r.index)))break}re(r)},vr=pr,gr=class{constructor(r){this.segments=[],this.pathValue=r,this.max=r.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}},wr=r=>{if(typeof r!="string")return r.slice(0);let e=new gr(r);for(D(e);e.index<e.max&&!e.err.length;)vr(e);if(!e.err.length)e.segments.length&&(e.segments[0][0]="M");else throw TypeError(e.err);return e.segments},J=wr,br=(r,e,n,i)=>{let[t]=r,a=t.toUpperCase();if(e===0||a===t)return r;if(a==="A")return[a,r[1],r[2],r[3],r[4],r[5],r[6]+n,r[7]+i];if(a==="V")return[a,r[1]+i];if(a==="H")return[a,r[1]+n];if(a==="L")return[a,r[1]+n,r[2]+i];{let o=[],s=r.length;for(let l=1;l<s;l+=1)o.push(r[l]+(l%2?n:i));return[a].concat(o)}},be=br,Mr=(r,e)=>{let n=r.length,i,t="M",a="M",m=!1,o=0,s=0,l=0,u=0,h=0;for(let f=0;f<n;f+=1){i=r[f],[t]=i,h=i.length,a=t.toUpperCase(),m=a!==t;let d=e(i,f,o,s);if(d===!1)break;a==="Z"?(o=l,s=u):a==="H"?o=i[1]+(m?o:0):a==="V"?s=i[1]+(m?s:0):(o=i[h-2]+(m?o:0),s=i[h-1]+(m?s:0),a==="M"&&(l=o,u=s)),d&&(r[f]=d,d[0]==="C"&&(n=r.length))}return r},I=Mr,Ar=r=>{let e=J(r);return I(e,be)},Cr=Ar,Sr=(r,e)=>{let[n]=r,i=n.toUpperCase(),t=n!==i,{x1:a,y1:m,x2:o,y2:s,x:l,y:u}=e,h=r.slice(1),f=h.map((d,c)=>d+(t?c%2?u:l:0));if("TQ".includes(i)||(e.qx=null,e.qy=null),i==="A")return f=h.slice(0,-2).concat(h[5]+(t?l:0),h[6]+(t?u:0)),["A"].concat(f);if(i==="H")return["L",r[1]+(t?l:0),m];if(i==="V")return["L",a,r[1]+(t?u:0)];if(i==="L")return["L",r[1]+(t?l:0),r[2]+(t?u:0)];if(i==="M")return["M",r[1]+(t?l:0),r[2]+(t?u:0)];if(i==="C")return["C"].concat(f);if(i==="S"){let d=a*2-o,c=m*2-s;return e.x1=d,e.y1=c,["C",d,c].concat(f)}else if(i==="T"){let d=a*2-(e.qx?e.qx:0),c=m*2-(e.qy?e.qy:0);return e.qx=d,e.qy=c,["Q",d,c].concat(f)}else if(i==="Q"){let[d,c]=f;return e.qx=d,e.qy=c,["Q"].concat(f)}else if(i==="Z")return["Z"];return r},$r=Sr,Lr={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},Me=Lr,Nr=(r,e)=>{let n=r.length,{round:i}=Ge,t=r[0],a="";i=e==="off"||typeof e=="number"&&e>=0?e:typeof i=="number"&&i>=0?i:"off";for(let m=0;m<n;m+=1){t=r[m];let[o]=t,s=t.slice(1);if(a+=o,i==="off")a+=s.join(" ");else{let l=0,u=s.length;for(;l<u;)a+=Je(s[l],i),l!==u-1&&(a+=" "),l+=1}}return a},Ae=Nr,qr=r=>{let e=J(r),n=0,i=0,t=0,a=0,m=0,o=0,s="M",l=0,u=0,h=0;return I(e,(f,d,c,y)=>{[s]=f;let p=s.toUpperCase(),v=p!==s?be(f,d,c,y):f.slice(0),x=p==="V"?["L",c,v[1]]:p==="H"?["L",v[1],y]:v;if([s]=x,"TQ".includes(p)||(m=0,o=0),s==="M")[,l,u]=x;else if(s==="L")h+=j(c,y,x[1],x[2]);else if(s==="A")h+=we(c,y,x[1],x[2],x[3],x[4],x[5],x[6],x[7]);else if(s==="S"){let w=n*2-t,S=i*2-a;h+=U(c,y,w,S,x[1],x[2],x[3],x[4])}else s==="C"?h+=U(c,y,x[1],x[2],x[3],x[4],x[5],x[6]):s==="T"?(m=n*2-m,o=i*2-o,h+=B(c,y,m,o,x[1],x[2])):s==="Q"?(m=x[1],o=x[2],h+=B(c,y,x[1],x[2],x[3],x[4])):s==="Z"&&(h+=j(c,y,l,u));[n,i]=s==="Z"?[l,u]:x.slice(-2),[t,a]=s==="C"?[x[3],x[4]]:s==="S"?[x[1],x[2]]:[n,i]}),h},Pr=qr,te=1e-5,kr=r=>{let e=J(r),n={...Me};return I(e,(i,t,a,m)=>{n.x=a,n.y=m;let o=$r(i,n),s=o.length;return n.x1=+o[s-2],n.y1=+o[s-1],n.x2=+o[s-4]||n.x1,n.y2=+o[s-3]||n.y1,o})},Y=kr,Er=(r,e)=>{let n=Y(r),i=!1,t=[],a="M",m=0,o=0,[s,l]=n[0].slice(1),u=typeof e=="number",h={x:s,y:l},f=0,d=h,c=0;return!u||e<te?h:(I(n,(y,p,v,x)=>{if([a]=y,i=a==="M",t=i?t:[v,x].concat(y.slice(1)),i?([,s,l]=y,h={x:s,y:l},f=0):a==="L"?(h=pe(t[0],t[1],t[2],t[3],e-c),f=j(t[0],t[1],t[2],t[3])):a==="A"?(h=Ie(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],e-c),f=we(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])):a==="C"?(h=Ye(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],e-c),f=U(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7])):a==="Q"?(h=Ue(t[0],t[1],t[2],t[3],t[4],t[5],e-c),f=B(t[0],t[1],t[2],t[3],t[4],t[5])):a==="Z"&&(t=[v,x,s,l],h={x:s,y:l},f=j(t[0],t[1],t[2],t[3])),[m,o]=t.slice(-2),c<e)d=h;else return!1;c+=f}),e>c-te?{x:m,y:o}:d)},Vr=Er,Tr=r=>{let e=Cr(r),n=Y(e),i=e.length,t=e[i-1][0]==="Z",a=I(e,(m,o)=>{let s=n[o],l=o&&e[o-1],u=l&&l[0],h=e[o+1],f=h&&h[0],[d]=m,[c,y]=n[o?o-1:i-1].slice(-2),p=m;switch(d){case"M":p=t?["Z"]:[d,c,y];break;case"A":p=[d,m[1],m[2],m[3],m[4],m[5]===1?0:1,c,y];break;case"C":h&&f==="S"?p=["S",m[1],m[2],c,y]:p=[d,m[3],m[4],m[1],m[2],c,y];break;case"S":u&&"CS".includes(u)&&(!h||f!=="S")?p=["C",s[3],s[4],s[1],s[2],c,y]:p=[d,s[1],s[2],c,y];break;case"Q":h&&f==="T"?p=["T",c,y]:p=[d,m[1],m[2],c,y];break;case"T":u&&"QT".includes(u)&&(!h||f!=="T")?p=["Q",s[1],s[2],c,y]:p=[d,c,y];break;case"Z":p=["M",c,y];break;case"H":p=[d,c];break;case"V":p=[d,y];break;default:p=[d].concat(m.slice(1,-2),c,y)}return p});return t?a.reverse():[a[0]].concat(a.slice(1).reverse())},Or=Tr,Zr=r=>{let e=[],n,i=-1,t=0,a=0,m=0,o=0,s={...Me};return r.forEach(l=>{let[u]=l,h=u.toUpperCase(),f=u.toLowerCase(),d=u===f,c=l.slice(1);h==="M"?(i+=1,[t,a]=c,t+=d?s.x:0,a+=d?s.y:0,m=t,o=a,n=[d?[h,m,o]:l]):(h==="Z"?(t=m,a=o):h==="H"?([,t]=l,t+=d?s.x:0):h==="V"?([,a]=l,a+=d?s.y:0):([t,a]=l.slice(-2),t+=d?s.x:0,a+=d?s.y:0),n.push(l)),s.x=t,s.y=a,e[i]=n}),e},Ce=Zr;function ne(r,e){return r.every(n=>Ir(n,e))}function Ir(r,e){let n=!1;for(let i=-1,t=e.length,a=t-1;++i<t;a=i)(e[i].y<=r.y&&r.y<e[a].y||e[a].y<=r.y&&r.y<e[i].y)&&r.x<(e[a].x-e[i].x)*(r.y-e[i].y)/(e[a].y-e[i].y)+e[i].x&&(n=!n);return n}function Fr(r,e=30){const n=[],i=Pr(r),t=Math.ceil(i/e);for(let a=0;a<i;a+=t)n.push(Vr(r,a));return n}function zr(r){const e=r.length;let n=0;for(let i=0;i<e;i++){const t=r[i],a=r[(i+1)%e];n+=t.x*a.y-a.x*t.y}return n}class T{constructor(e){k(this,"path");k(this,"area");k(this,"polygon");k(this,"parent");k(this,"children");this.children=new Set,this.value=e}set value(e){if(e){const n=Fr(e),i=zr(n);this.path=e,this.polygon=n,this.area=i}}get value(){return this.path}get dir(){if(this.area!==void 0)return this.area>=0?"cw":"ccw"}addChild(e){for(const n of this.children){const i=n.compare(e);if(i===-1)return n.setParent(e),this;if(i===1)return n.addChild(e),this}return this.children.add(e),e.parent=this,this}setParent(e){const n=this.parent;return n&&(n.children.delete(this),n.addChild(e)),e.addChild(this),this}compare(e){if(this.polygon&&e.polygon){if(ne(e.polygon,this.polygon))return 1;if(ne(this.polygon,e.polygon))return-1}return 0}reverse(){return this.value&&(this.value=Or(this.value)),this}static from(e){const n=new T;for(const i of e)n.addChild(new T(i));return n}}function Dr(r){var m;const e=Y(r),n=Ce(e),t=[...T.from(n).children],a=[];for(;t.length>0;){const o=t.shift();if(o){if(o.value){const s=((m=o.parent)==null?void 0:m.dir)??"ccw",l=o.dir;s===l&&o.reverse(),a.push(o.value)}o.children.size>0&&t.push(...o.children)}}return Ae(a.flat())}const jr="M50 0a50 50 0 110 100 50 50 0 110-100m0 30a20 20 0 110 40 20 20 0 110-40m0-10q12.42 0 21.21 8.79t8.79 21.21-8.79 21.21-21.21 8.79-21.21-8.79-8.79-21.21 8.79-21.21 21.21-8.79m-40-20a5 5 0 110 10 5 5 0 110-10m80 0a5 5 0 110 10 5 5 0 110-10m0 2.5a2.5 2.5 0 110 5 2.5 2.5 0 110-5m-45 42.5h10v10h-10zm-5-5h20v20h-20zm10-30c22.07 0 40 17.93 40 40s-17.93 40-40 40-40-17.93-40-40 17.93-40 40-40",ie=document.querySelector("#showDirections"),E=document.querySelector("#input"),Qr=document.querySelector("#preview"),ae=document.querySelector("#preview-fill"),Xr=document.querySelector("#preview-stroke"),Yr=document.querySelector("#fix-button"),R=document.querySelector("#treeview"),O=new Map;ie.addEventListener("input",()=>{ie.checked?document.body.classList.add("show-marker"):document.body.classList.remove("show-marker")});E.addEventListener("input",()=>{G()});Yr.addEventListener("click",()=>{E.value=Dr(E.value),G()});R.addEventListener("mouseover",r=>{const e=r.target;if(e!=null&&e.matches(".node")){const n=O.get(e);n&&n.classList.add("active")}});R.addEventListener("mouseout",r=>{const e=r.target;if(e!=null&&e.matches(".node")){const n=O.get(e);n&&n.classList.remove("active")}});function G(){ae.setAttribute("d",E.value);const r=ae.getBBox();Qr.setAttribute("viewBox",[r.x,r.y,r.width,r.height].join(" ")),Hr()}function Hr(){const r=E.value,e=Y(r),n=Ce(e),i=T.from(n),t=document.createElement("ul");O.clear(),Se(t,i),R.replaceChildren(t),Xr.replaceChildren(...O.values())}function Se(r,e){var n;for(const i of e.children){const t=document.createElement("li");if(i.value){((n=i.value.at(-1))==null?void 0:n[0])!=="Z"&&i.value.push(["Z"]);const a=document.createElement("span"),m=document.createElementNS("http://www.w3.org/2000/svg","path"),o=Ae(i.value);a.textContent=o,a.classList.add("node"),m.setAttribute("d",o),i.dir&&(m.classList.add(`path-${i.dir}`),t.classList.add(i.dir)),O.set(a,m),t.append(a)}if(i.children.size>0){const a=document.createElement("ul");Se(a,i),t.classList.add("has-child","expand"),t.append(a)}r.append(t)}}E.value=jr;G();
